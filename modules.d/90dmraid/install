#!/bin/bash
# -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
# ex: ts=8 sw=4 sts=4 et filetype=sh
dracut_install dmraid partx kpartx 

inst  dmeventd

for i in {"$libdir","$usrlibdir"}/libdmraid-events*.so; do
    [ -e "$i" ] && dracut_install "$i"
done

inst_rules 10-dm.rules 13-dm-disk.rules 95-dm-notify.rules 

inst "$moddir/dmraid.sh" /sbin/dmraid_scan

if [ ! -x /lib/udev/vol_id ]; then
    inst_rules 64-md-raid.rules
fi

inst_rules "$moddir/61-dmraid-imsm.rules"
inst "$moddir/dmraid-cleanup.sh" /sbin/dmraid-cleanup
inst_hook pre-trigger 30 "$moddir/parse-dm.sh"

